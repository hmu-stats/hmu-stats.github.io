---
title: "Vorlesung 04: Darstellung von Daten"
---

# Darstellung von Lage- und Streuungsmaßen in Text und Bild


<!-- ## Der Forschungsprozess {.hcenter-slide}

```yaml { .animate src="images/scientific_process.svg"}
setup:
    - element: "#results"
      modifier: function() { this.node.style.fill = 'green'; }
    - element: "#resultsbg"
      modifier: function() { this.node.style.fill = '#d8ffe2';}
``` -->


## [Angabe von Lage- und Streuungsmaßen in wissenschaftlichen Arbeiten]{style="font-size: 36px"}

- Handelt es sich um einzelne Werte, können diese übersichtlich im Fließtext berichtet werden:

:::{.fragment}
![](images/example_location_dispersion_text.png){style="margin-bottom:-17px"}
:::

- Handelt es sich um eine größere Anzahl von Werten (z.B. bei mehreren Bedingungen) bietet sich eine Darstellung in Tabellenform an.
- Auch bei dieser Darstellung sollten Lage- *und* Streuungsmaße angegeben werden.
- In wissenschaftlichen Manuskripten werden Tabellen häufig nach den APA-Richtlinien (7. Edition, 2020) formatiert:

:::: {.columns}
::: {.column width="50%"}

:::{.fragment}
![](images/example_location_dispersion_table.png){.hcenter-image}
:::

:::


<!-- Begin second column -->
::: {.column width="50%"}

:::{.fragment}
![](images/APA7.jpg){height=175px}
:::

:::
::::

::: {.recommendation .fragment}
Siehe Link^[https://apastyle.apa.org/style-grammar-guidelines/tables-figures/tables] für Informationen zur Formatierung von Tabellen im APA-Stil
:::



<!----------------->
<!--- New slide --->
<!----------------->
## Beispieltabelle

<div class="vspace-medium"></div>

![](images/example_location_dispersion_table2.png)



<!-- ```{python}
import matplotlib.pyplot as plt
import numpy as np
from scipy.stats import truncnorm, ttest_ind
fontsize=15

np.random.seed(0)

mean_blond = 95
mean_brunette = 105
plusminus = 60
bounds_blond = (mean_blond-plusminus, mean_blond+plusminus)
bounds_brunette = (mean_brunette-plusminus, mean_brunette+plusminus)
std = 30
N = 70

data_blond = truncnorm.rvs(a=(bounds_blond[0] - mean_blond) / std, b=(bounds_blond[1] - mean_blond) / 
std, loc=mean_blond, scale=std, size=N)
data_blond += mean_blond - np.mean(data_blond)
sd_blond = np.std(data_blond)
data_brunette = truncnorm.rvs(a=(bounds_brunette[0] - mean_brunette) / std, b=(bounds_brunette[1] - mean_brunette) / std, loc=mean_brunette, scale=std, size=N)
data_brunette += mean_brunette - np.mean(data_brunette)
sd_brunette = np.std(data_brunette)

plt.figure(figsize=(3, 4))
plt.bar(1, mean_blond, color='#c6c600')
plt.bar(2, mean_brunette, color='#4a2500')
plt.errorbar(1, mean_blond,  yerr=sd_blond, fmt='o', markersize=2, capsize=10, capthick=2, elinewidth=2, ecolor='k', mfc='k', mec='k')
plt.errorbar(2, mean_brunette,  yerr=sd_brunette, fmt='o', markersize=2, capsize=10, capthick=2, elinewidth=2, ecolor='k', mfc='k', mec='k')
plt.ylabel('IQ', fontsize=fontsize)
plt.xticks([1, 2], ['Blond', 'Brünett'], fontsize=fontsize)
plt.yticks(fontsize=fontsize-2)
# plt.ylim(85, 110)
plt.savefig('images/IQ_blond_brunette_means_sds.png', bbox_inches="tight")
plt.savefig('images/IQ_blond_brunette_means_sds.svg', bbox_inches="tight", format='svg', dpi=1200)

plt.figure(figsize=(3, 4))
plt.errorbar(1, mean_blond,  yerr=sd_blond, fmt='o', markersize=8, capsize=10, capthick=2, elinewidth=2, ecolor='#c6c600', mfc='#c6c600', mec='#c6c600')
plt.errorbar(2, mean_brunette,  yerr=sd_brunette, fmt='o', markersize=8, capsize=10, capthick=2, elinewidth=2, ecolor='#4a2500', mfc='#4a2500', mec='#4a2500')
plt.ylabel('IQ', fontsize=fontsize)
plt.xticks([1, 2], ['Blond', 'Brünett'], fontsize=fontsize)
plt.yticks(fontsize=fontsize-2)
plt.xlim(0.25, 2.75)
plt.savefig('images/IQ_blond_brunette_means_sds_nobar.png', bbox_inches="tight")
``` -->


## Balkendiagramm mit Fehlerbalken

:::: {.columns}
::: {.column width="65%"}
- Der [**Fehlerbalken**]{color="navy"} ist die klassische Wahl zur Darstellung der Streuung von Daten.
- Die Ausdehnung des Fehlerbalkens entspricht dem Lagemaß (z.B. Mittelwert) plus/minus dem Streuungsmaß (z.B. Standardabweichung).
- Der gesamte Fehlerbalken hat also die Ausdehnung $2\cdot\text{Streuungsmaß}$
:::
::: {.column width="35%"}
![](images/IQ_blond_brunette_means_sds_extended.svg){height=250px}
:::
::::

- Klassische Kombinationen von Lagemaß und Streuungsmaß sind:
    - $\text{Mittelwert}\pm\text{Standardabweichung}$
    - $\text{Mittelwert}\pm\text{Standardfehler}$ (dazu kommen wir noch)
    - $\text{Mittelwert}\pm\text{Konfidenzintervall}$ (dazu kommen wir noch)
    - $\text{Median}\pm\text{IQR}$
    - $\text{Median}\pm\text{Median-Abweichung}$ (das behandeln wir nicht)



<!----------------->
<!--- New slide --->
<!----------------->
## Beispiel

![](images/how_to_fehlerbalken.png)

## Einzelner Punkt statt Balken

- Statt eines Balkens kann der Mittelwert auch durch einen einzelnen Punkt repräsentiert werden &ndash; manche empfinden das als eleganter:

<div class="vspace-medium"></div>

:::{.fragment}
![](images/IQ_blond_brunette_means_sds_nobar.png){height=400px}

:::


## The case against bar plots

- Trotz ihrer hohen Verbreitung haben Balkendiagramme (Barplots) eine Reihe von Nachteilen:
    - Sie geben kaum Information über die spezifische Verteilung der Daten und mögliche Ausreißer
    - Die intransparente Darstellungsweise verdeckt häufig, dass 1) Daten unrealistisch sind oder 2) Ausreißer das Lagemaß verzerren oder 3) die Verteilung der Daten unpassend für das verwendete Lagemaß sind.
    - Sie legen den Fokus auf irrelevante Bereiche der Skala (siehe Abbildung unten)

:::: {.columns}
::: {.column width="60%"}
:::{.fragment}
![](images/disadvantages_barplot.png){height=350px}
:::
:::


<!-- Begin second column -->
::: {.column .caption-style width="40%"}
:::{.fragment}
Durch die tatsächliche Verteilung der Datenpunkte im rechten Plot wird klar, dass im Balkendiagramm ein vergleichsweise starker Fokus auf Bereiche gelegt wird, in den gar keine Daten enthalten sind ("Zone of Irrelevance"), und andererseits Extremwerte, insbesondere oberhalb des Fehlerbalkens, visuell völlig unrepräsentiert sind ("Zone of Invisibility"). Der Fehlerbalken ist außerdem leicht mit der Illusion verbunden, dass sich alle Datenpunkte innerhalb des angezeigten Bereiches befinden ("Within-the-bar bias").^[Weissgerber TL, Winham SJ, Heinzen EP, Milin-Lazovic JS, Garcia-Valencia O, Bukumiric Z, Savic MD, Garovic VD, Milic NM (2019) Reveal, Don’t Conceal: Transforming Data Visualization to Improve Transparency. Circulation 140:1506–1518.].
:::
:::
::::



<!----------------->
<!--- New slide --->
<!----------------->
## The case against bar plots

- Alle Datenverteilungen haben den gleichen Mittelwert und Standardabweichung

<div class="vspace-medium"></div>

:::{.fragment}
![Illustration der Tatsache, dass unterschiedlichste Verteilungen von Daten im selben Balkendiagramm münden, hier am Beispiel von Mittelwert und Standardabweichung. Alle Verteilungen haben exakt den gleichen Mittelwert und Standardabweichung, sowohl entlang der y-Achse, als auch entlang der x-Achse (hier sind aber nur die Mittelwerte bezogen auf die y-Achse dargestellt)^[https://www.biztory.com/blog/bar-charts-the-good-the-bad-and-the-ugly].](images/dino_barplot_example.png)
:::

<!----------------->
<!--- New slide --->
<!----------------->
## The case against bar plots

<div class="vspace-medium"></div>

:::{.content-hidden when-format="pdf"}
![Alberto Cairo's "DataSaurus"^[https://blog.revolutionanalytics.com/2017/05/the-datasaurus-dozen.html].](images/DataSaurus%20Dozen.gif)
:::

:::{.content-visible when-format="pdf"}
![Alberto Cairo's "DataSaurus"^[https://blog.revolutionanalytics.com/2017/05/the-datasaurus-dozen.html].](images/DataSaurus%20Dozen.png)
:::

## Der Box-Plot

:::: {.columns}
::: {.column width="65%"}
- Eine bekannte Darstellungsform für den Median ist der [**Boxplot**]{color="navy"}
- In einer gängigen Variante zeigt der Boxplot drei Informationen an:
    1. **Median (als einfache Linie)**
    2. **Box:** die "mittleren 50% der Daten" (25% über dem Median, 25% unter dem Median)
    3. **Antennen ("Whiskers"):** zeigen Grenzen der Ausreißer-Definition an (Ausreißer = alle Punkte unter- und überhalb der Antennen). Häufig ist hier das Kriterium, dass die Daten im Bereich $[Q_1-1.5\cdot IQR; Q_3+1.5\cdot IQR]$ liegen müssen.
:::
<!-- Begin second column -->
::: {.column width="35%"}
![](images/boxplot.png)

:::
::::

- Der Boxplot gibt eine schnelle Übersicht über wesentliche Kennwerte eines Datensatzen
- Zu beachten ist, dass zahlreiche Varianten des Boxplots existieren
    - Bei einer weiteren häufigen Variante zeigen die Antennen das absolute Maximum und Minimum der Daten an (also *inklusive* möglicher Ausreißer)


<!----------------->
<!--- New slide --->
<!----------------->
## [Moderne Darstellungsformen]{color="darkred"}

![](images/kein_klausurstoff.png){.absolute bottom=0 right=0 height=110px}

:::: {.columns}
::: {.column width="45%"}
**Raincloud-Plot**

<div class="vspace-medium"></div>

![Bildnachweis^[https://jasp-stats.org/2021/10/05/raincloud-plots-innovative-data-visualizations-in-jasp/]](images/raincloud_plot_jasp_annot.png)
:::

::: {.column width="10%"}
:::

<!-- Begin second column -->
::: {.column width="35%"}
**Klassische Darstellung mit Lage- und Streuungsmaß**

<div class="vspace-medium"></div>

![Bildnachweis^[https://jasp-stats.org/2021/10/05/raincloud-plots-innovative-data-visualizations-in-jasp/]](images/raincloud_jasp_barplot.png)

:::
::::

:::{style="margin-top: -20px"}
- Moderne Statistik- und Plotsoftware ermöglicht heutzutage eine verbesserte und transparentere Darstellung von Daten:
    - Anzeige einzelner Datenpunkte, meist getrennt durch "Jitter" (d.h. leichte horizontale oder vertikale Versetzung mit zufälligen Abständen, um Überschneidung der Datenpunkte zu reduzieren)
    - Anzeige der Verteilung mittels (interpolierter) Histogramme (wichtige Information für die <br> Auswahl geeigneter Lage- und Streumaße, aber auch statistischer Tests)
    - *Zusätzliche* Anzeige von Kennwerten 

:::
