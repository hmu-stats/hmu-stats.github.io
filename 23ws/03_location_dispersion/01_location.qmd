---
title: "Vorlesung 03: Lage- und Streuungsmaße"
---

## {.blackslide .center}

::: {.content-hidden when-format="pdf"}
![](images/paradoxia_group_of_scientists.png){.hcenter-image height=250px}
<!-- Source: Midjourney -->
<div class='vspace-small'></div>
:::

Die Daten der ersten Beobachtungsstudie zu Paradoxia sind frisch eingetroffen!

<!---  Table --->
| id | group | hours_tiktok_per_day | inflammation |
|-|-|-|-|
| 1 | control | 1.14 | 0.24 |
| 2 | control | 2.24 | 0.19 |
| ... | ... | ... | ... |
| 50 | control | 1.14 | 0.13 |
| 51 | paradoxia | 1.57 | 0.03 |
| 52 | paradoxia | 2.59 | 0.21 |
| ... |  ... | ... | ... |
| 100 | paradoxia | 0.52 | 0.12 |

: Table 1. Results. {tbl-colwidths="[10, 20, 30, 30]"}


<!----------------->
<!--- New slide --->
<!----------------->
## {.blackslide}

<div class="vspace-medium"></div>

Hier ist das Histogramm der TikTok-Zeiten von Paradoxikern:

<div class="vspace-small"></div>

![](images/paradoxia_histogram_tiktok_paradoxiker.png){height=400px}

Überschlagen Sie: passt das Histogramm zur angegeben Stichprobe von n=50 Paradoxikern? Und handelt es sich um eine Abbildung relativer oder absoluter Häufigkeit?

<!----------------->
<!--- New slide --->
<!----------------->
## {.blackslide}

<div class="vspace-medium"></div>

Vergleich mit der Kontrollgruppe:

<div class="vspace-small"></div>

![](images/paradoxia_histogram_tiktok.png){height=400px}

Wir können hier schon erahnen, dass die Studie tatsächlich Evidenz für einen erhöhte TikTok-Zeit bei Paradoxikern erbringt (Hypothese 1)!

<!----------------->
<!--- New slide --->
<!----------------->
## {.blackslide}

Erinnerung: statt der Anzahl (absolute Häufigkeit) kann auch die Wahrscheinlichkeit (relative Häufigkeit) dargestellt werden:

![](images/paradoxia_histogram_tiktok_probability.png){.hcenter-image width=600px}

Jeder Wert in dieser Abbildung gibt also die Wahrscheinlichkeit an, dass ein Entzündungswert im Intervall des jeweiligen Balkens liegt.

Während sich die Balken eines Histogramms mit absoluter Häufigkeit (Anzahl) zur Stichprobengröße aufaddieren, addieren sie sich beim Histogramm mit relativer Häufigkeit (Wahrscheinlichkeit) zu 1.


<!----------------->
<!--- New slide --->
<!----------------->
##  {.blackslide}

<div class="vspace-medium"></div>

Die ersten Daten sind also eingetroffen, und Sie machen sich nun an die Auswertung. Das führt zu Sie zum Thema der heutigen Vorlesung: **wie kann man Daten statistisch beschreiben**?

<!-- ![](images/paradoxia_histogram_inflammation_whitebg_annot.svg) -->

<div class="vspace-medium"></div>

::: {.content-visible when-format="revealjs"}
::: {.hcenter-slide}
```yaml { .animate src="images/paradoxia_histogram_tiktok_paradoxiker_blackbg_annot.svg"}
setup:
  - element: "#location"
    modifier: attr
    parameters:
      - class: fragment
        data-fragment-index: "1"
  - element: "#location_label"
    modifier: attr
    parameters:
      - class: fragment
        data-fragment-index: "1"
  - element: "#dispersion"
    modifier: attr
    parameters:
      - class: fragment
        data-fragment-index: "2"
  - element: "#dispersion_label"
    modifier: attr
    parameters:
      - class: fragment
        data-fragment-index: "2"        
```
:::
:::

::: {.content-hidden when-format="revealjs"}
![](images/paradoxia_histogram_inflammation_paradoxiker_blackbg_annot.svg)
:::

<!----------------->
<!--- New slide --->
<!----------------->
## Der Forschungsprozess {.hcenter-slide}

```yaml { .animate src="images/scientific_process.svg"}
setup:
    - element: "#results"
      modifier: function() { this.node.style.fill = 'green'; }
    - element: "#resultsbg"
      modifier: function() { this.node.style.fill = '#d8ffe2';}
```


# Lagemaße


## Lagemaße {style='overflow:hidden'}

- Der weithin bekannte **Durchschnittswert** oder **Mittelwert** ist ein Beispiel für ein [**Lagemaß**]{color="navy"} von Verteilungen. 
- Man spricht dabei auch von der **zentralen Tendenz** (engl. *central tendency*) einer Verteilung
- Das Lagemaß ist neben dem **Streumaß** der wesentliche Parameter, um die Verteilung von Daten effizient (d.h. mit wenigen Parametern) zu beschreiben
- Die drei wichtigsten Lagemaße sind: 
    - Mittelwert (gemeint ist das *arithmetische Mittel*)
    - Median
    - Modus (auch Modalwert)

:::{.fragment}
![Bildnachweis^[https://datatab.de/tutorial/mittelwert-median-modus]](images/mean_median_modus.png){.hcenter-image}
:::


## Mittelwert

- Berechnung (verbal):
    1. Addiere alle $n$ Stichprobenwerte 
    2. Teile durch die Anzahl der Werte
- Berechnung (Formel):

:::{.fragment}
$$ 
\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i
$$
:::

- Notation: Strich über dem kleinen Letter der Zufallsvariable = Mittelwert der Zufallsvariable

:::{.fragment}
[Beispiel]{.block-heading style='text-align:center; margin-bottom: 3px'}

Folgende Beobachtungen der Zufallsvariable $X$ "Punktzahl in der Abi-Matheprüfung" werden in einer Stichprobe von 7 Psychologiestudierenden gemacht:&numsp; $\mathbf{x} = \{13, 7, 15, 8, 4, 9, 14\}$

$$
\bar{x} = \frac{1}{7}(13+7+15+8+4+9+14) =  = \frac{1}{7}\cdot 70 = 10
$$
:::



<!----------------->
<!--- New slide --->
<!----------------->

<!-- ```{python}
import matplotlib.pyplot as plt
import numpy as np
mode = 'histogram3'
data = dict(
    histogram1=[13, 7, 15, 8, 4, 9, 14],
    histogram2=[3, 1, 4, 2, 2, 5, 15],
    histogram3=[13, 15, 11, 12, 9, 15, 1]
)[mode]

fontsize=20
plt.figure(figsize=(9, 3))
plt.hist(data, edgecolor='#999', color='#94b9ea', bins=range(0, 17, 1))
mean = np.mean(data)
plt.plot([mean, mean], [0, 2.1], '-', linewidth=4, color='darkred')
if mode == 'histogram2':
  plt.text(mean+0.3, 1.7, 'Mittelwert', ha='left', fontsize=1.5*fontsize, color='darkred', fontweight='bold')
else:
  plt.text(mean-0.3, 1.7, 'Mittelwert', ha='right', fontsize=1.5*fontsize, color='darkred', fontweight='bold')
# plt.xlabel('', fontsize=fontsize)
# plt.xticks(np.arange(0, 0.51, 0.05))
# plt.ylabel('Anzahl', fontsize=fontsize)
# plt.xticks(np.arange(1.5, 16, 3), ['0-3', '3-6', '6-9', '9-12', '12-15'], fontsize=fontsize)
plt.xticks(np.arange(0.5, 16.5), range(0, 16), fontsize=fontsize)
plt.yticks(range(0, 5), fontsize=fontsize)
plt.xlim(0, 16)
plt.ylim(0, 2.1)
plt.savefig(f'images/{mode}.png', bbox_inches="tight")
```             -->

## Wann ist der Mittelwert sinnvoll?

- Der Mittelwert ist ein sinnvolles Lagemaß, wenn er nicht durch einzelne **Ausreißer** (extreme Werte) dominiert bzw. verzerrt wird.

<div class="vspace-small"></div>

:::{.fragment}
<!---  Table --->
|$\mathbf{x}$ (z.B. Punktzahlen im Abi)|$\bar{x}$|Histogramm|Mittelwert sinnvoll?|
|-|:-:|:-:|:-:|
| $\{13, 7, 15, 8, 4, 9, 14\}$ | $10$ | ![](images/histogram1.png){height=140px} | [&#10003;]{style="font-size:60px; color: green; font-weight: bold"} |
| $\{3, 1, 4, 2, 2, 6, 15\}$ | $4.7$ | ![](images/histogram2.png){height=140px} | [&#10007;]{style="font-size:60px; color: red"} |
| $\{13, 15, 11, 12, 9, 14, 1\}$ | $10.7$ | ![](images/histogram3.png){height=140px} | [&#10007;]{style="font-size:60px; color: red"} |

: {tbl-colwidths="[28, 7, 43, 22]"}
:::

## Median {style="overflow: hidden"}

- Gibt es dominante Ausreißer in den Daten, so ist häufig der [**Median**]{color="navy"} das sinnvollere Lagemaß
- Berechnung:
  1. Alle $n$ Stichprobenwerte der Größe nach aufreihen
  2. Der Wert, der genau in der Mitte liegt, ist der Median
  3. Bei einer geraden Anzahl von Werten bilden zwei Werte die Mitte &ndash; in diesem Fall ist der Median der Mittelwert dieser beiden Werte
  4. $\Big($ Alternativ mit Formel:&numsp; $Tiefe_{\,\text{Median}}=\frac{n+1}{2}\Big)$
- Der Median wird mit einer Tilde (~) über der Variablen bezeichnet:&numsp; $\tilde{x}, \tilde{y}, ..$


:::{.fragment}
[Beispiel]{.block-heading style='text-align:center; margin-bottom: 3px'}

Folgende Beobachtungen der Zufallsvariable $X$ "Punktzahl in der Abi-Matheprüfung" werden in einer Stichprobe von 7 Psychologiestudierenden gemacht:&numsp; $\mathbf{x} = \{13, 7, 15, 8, 4, 9, 14\}$
:::

:::{.fragment}
$$
\text{Sortierte Reihenfolge:} \;\mathbf{x} = \{4, 7, 8, \color{green}{\mathbf{9}}, 13, 14, 15\} \;\rightarrow\; \tilde{x} = 9
$$
:::

:::{.fragment}
Wir fügen den Wert eines weiteren Studierenden hinzu: &numsp; $\mathbf{x} = \{13, 7, 15, 8, 4, 9, 14, 10\}$

:::

:::{.fragment}
$$
\text{Sortierte Reihenfolge:} \;\mathbf{x} = \{4, 7, 8, \color{green}{\mathbf{9}, \mathbf{10}}, 13, 14, 15\} \;\rightarrow\; \tilde{x} = \frac{9+10}{2} = 9.5
$$
:::


<!-- ```{python}

``` -->

<!-- ```{python}
import matplotlib.pyplot as plt
import numpy as np

np.random.seed(0)
fontsize=14

data1 = [1, 2, 2, 3, 3, 3, 4, 5]
data2 = [10, 11, 11, 12, 12, 13, 14]
median = np.median(np.hstack((data1, data2))) 
print(f"Median={median:.2f}")

plt.figure(figsize=(11, 3))
plt.subplot(121)
plt.hist(data1, edgecolor='#999', color='#94b9ea', bins=range(0, 17, 1))
plt.hist(data2, edgecolor='#999', color='#94b9ea', bins=range(0, 17, 1))
plt.plot([median+0.5, median+0.5], [0, 10], '-', linewidth=4, color='darkred')
plt.text(median+0.8, 2.7, 'Median', ha='left', fontsize=1.1*fontsize, color='darkred', fontweight='bold')
plt.xticks(np.arange(0.5, 16.5), range(0, 16), fontsize=fontsize)
plt.yticks(range(4), fontsize=fontsize)
plt.xlim(0, 16)
plt.ylim(0, 3.1)

data1 = [1, 2, 2, 3, 3, 3, 4]
data2 = [10, 11, 11, 12, 12, 13, 14, 10]
median = np.median(np.hstack((data1, data2))) 
print(f"Median={median:.2f}")

plt.subplot(122)
plt.hist(data1, edgecolor='#999', color='#94b9ea', bins=range(0, 17, 1))
plt.hist(data2, edgecolor='#999', color='#94b9ea', bins=range(0, 17, 1))
plt.plot([median+0.5, median+0.5], [0, 10], '-', linewidth=4, color='darkred')
plt.text(median+0.8, 2.7, 'Median', ha='left', fontsize=1.1*fontsize, color='darkred', fontweight='bold')
plt.xticks(np.arange(0.5, 16.5), range(0, 16), fontsize=fontsize)
plt.yticks(range(4), fontsize=fontsize)
plt.xlim(0, 16)
plt.ylim(0, 3.1)
plt.tight_layout()
plt.savefig(f'images/median_bimodal.png', bbox_inches="tight")
``` -->



## Median

:::: {.columns}
::: {.column width="70%"}
- Der **Median ist außerdem sinnvoll** bei:
  - ordinalen Daten wie etwa diskreten Ratings (Skala von 1 bis 10), bei denen die Abstände zwischen Zahlen nicht interpretierbar sind.
  - schiefen Verteilungen der Daten (dazu kommen wir noch)

:::
::: {.column width="30%"}
:::{.fragment}
![](images/show_with_likert_rating.png){height=150px}
:::
:::
::::

- Der **Median ist nicht sinnvoll**, wenn:
  - auch der Mittelwert ein sinnvolles Lagemaß darstellt (der Mittelwert hat einige hilfreiche mathematische Eigenschaften^[Beispielsweise ist der Mittelwert der Mittelwerte von zwei Gruppen mit je n Datenpunkten gleich dem Mittelwert aller 2*n Datenpunkte. Beim Median ist dies nicht gegeben. Auch beziehen sich viele statistische Standardtests auf den Mittelwert und nicht den Median.]).
  - in der zugrundeliegenden Verteilung zwei oder mehr Wertebereiche deutlich häufiger vorkommen als andere Wertebereiche, und diese Bereiche nicht überlappen (z.B. hat der Median von $\{2, 2, 2, 2, 9, 9, 9\}$ den wenig aussagekräftigen Wert 2).

:::{.fragment}
![Für diese "bimodale" Verteilung der Daten ist der Median eine schlechte Wahl. Der Wert springt mehr oder weniger zufällig zwischen den beiden dominanten Wertebereichen der Daten (1-5 und 10-14), je nachdem, welcher Bereich mehr Werte aufweist.](images/median_bimodal.png){height=170px .hcenter-image}
:::




<!----------------->
<!--- New slide --->
<!----------------->
## Modus

- In manchen Fällen ist es interessant zu wissen, was der **häufigste Wert** in einem Datensatz ist &ndash; dies ist der [**Modus**]{color="navy"}.
- Berechnung:
  1. Zähle die Häufigkeit aller vorkommenden Werte
  2. Der häufigste Wert ist der Modus
- Im Fall von **kategorialen Variablen** ist der Modus das einzig mögliche Lagemaß (Beispiel: aus welchem Bundesland kommen die meisten von Ihnen?)
- Ein weiterer sinnvoller Anwendungsfall können schiefe Verteilungen sein:

:::{.fragment}
![Bildnachweis^[https://youtu.be/inJ4OvU0zMA]](images/schiefe_verteilungen.png){.hcenter-image height=290px}
:::